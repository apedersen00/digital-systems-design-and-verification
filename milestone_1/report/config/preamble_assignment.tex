\documentclass[oneside,11pt,a4paper]{article}

%----------------------------------------------------------------------------------------
%   USER INFORMATION
%----------------------------------------------------------------------------------------
\newcommand{\assignmentTitle}{Homework 1}
\newcommand{\assignmentSubtitle}{Fall 2025}
\newcommand{\studentName}{Andreas S. Pedersen}
\newcommand{\studyID}{aspasp@kth.se}
\newcommand{\courseName}{IL2234: Digital Systems Design and Verification Using HDL}
\newcommand{\submissionDate}{\today}

%----------------------------------------------------------------------------------------
%   PAGE LAYOUT & GEOMETRY
%----------------------------------------------------------------------------------------
\usepackage{geometry}
\geometry{
    a4paper,
    left=2.5cm,
    right=2.5cm,
    top=2.5cm,
    bottom=3cm
}

%----------------------------------------------------------------------------------------
%   HEADERS AND FOOTERS
%----------------------------------------------------------------------------------------
\usepackage{fancyhdr}
\usepackage{lastpage}

% Define the header/footer style
\fancypagestyle{fancy}{
    \fancyhf{}
    \fancyhead[L]{\courseName}
    \fancyhead[R]{\assignmentTitle}
    \fancyfoot[R]{Page \thepage\ of \pageref{LastPage}}
    \fancyfoot[L]{\studentName}
    \renewcommand{\headrulewidth}{0.4pt}
    \renewcommand{\footrulewidth}{0pt}
}

% Apply to all pages
\pagestyle{fancy}

%----------------------------------------------------------------------------------------
%   TYPOGRAPHY & ENCODING
%----------------------------------------------------------------------------------------
\usepackage{minted}
\usepackage[skins,minted]{tcolorbox}

\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage[normalem]{ulem}
\usepackage{lipsum}
\setlength\parindent{0pt} % No paragraph indents
\setlength\parskip{6pt}   % Space between paragraphs

\usepackage{microtype}
\DisableLigatures[<,>]{encoding=T1,family=tt*}

%----------------------------------------------------------------------------------------
%   BIBLIOGRAPHY
%----------------------------------------------------------------------------------------
\usepackage[style=ieee, backend=biber]{biblatex}
\addbibresource{config/references.bib}
\nocite{*}

%----------------------------------------------------------------------------------------
%   PACKAGES FOR FIGURES, TABLES, AND MATH
%----------------------------------------------------------------------------------------
\usepackage{graphicx}
\graphicspath{{imgs/}}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{siunitx}
\usepackage{array}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{makecell}
\usepackage{threeparttable}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{rotating}

%----------------------------------------------------------------------------------------
%   DOCUMENT STRUCTURE & FORMATTING
%----------------------------------------------------------------------------------------
\usepackage{titlesec}
\usepackage{appendix}
\usepackage{verbatim}
\usepackage{enumitem}
\usepackage[bottom]{footmisc}
\usepackage{pdfpages}
\usepackage{changepage}
\usepackage{subfiles}

\usepackage[hidelinks, colorlinks=true, linkcolor=black, citecolor=black, urlcolor=blue]{hyperref}

\titleformat{\section}
  {\normalfont\Large\bfseries}
  {}
  {0em}
  {}

\titleformat{\subsection}
  {\normalfont\large\bfseries}
  {}
  {0em}
  {}

\titleformat{\subsubsection}
  {\normalfont\normalsize\itshape}
  {}
  {0em}
  {}

\titlespacing*{\section}{0pt}{1.5\baselineskip}{1\baselineskip}
\titlespacing*{\subsection}{0pt}{1\baselineskip}{0.5\baselineskip}

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}

% ------- MINTED

\definecolor{mintedbackground}{rgb}{0.95,0.95,0.95}
\definecolor{mintedframe}{rgb}{0.3,0.55,0.55}

\setminted[cpp]{
    bgcolor=mintedbackground,
    fontfamily=tt,
    linenos=true,
    numberblanklines=true,
    numbersep=12pt,
    numbersep=5pt,
    gobble=0,
    frame=leftline,
    framesep=2mm,
    funcnamehighlighting=true,
    tabsize=4,
    obeytabs=false,
    mathescape=false,
    samepage=false,
    showspaces=false,
    texcl=false,
    baselinestretch=1.2,
    fontsize=\footnotesize,
    breaklines=true,
}

\setminted[text]{
    bgcolor=mintedbackground,
    fontfamily=tt,
    linenos=true,
    numberblanklines=true,
    numbersep=12pt,
    numbersep=5pt,
    gobble=0,
    frame=leftline,
    framesep=2mm,
    funcnamehighlighting=true,
    tabsize=4,
    obeytabs=false,
    mathescape=false,
    samepage=false,
    showspaces=false,
    showtabs =false,
    texcl=false,
    baselinestretch=1.2,
    fontsize=\footnotesize,
    breaklines=true,
}

\newtcblisting{myminted}[2][]{listing engine=minted, listing only,#1, title=#2, minted language=cpp, colback=mintedbackground}

\newtcblisting{svminted}[2][]{listing engine=minted, listing only,#1, title=#2, minted language=systemverilog, colback=mintedbackground}

\newtcblisting{mintedterminal}[2][]{enhanced, listing engine=minted, 
listing only,#1, title=#2, minted language=text, 
coltitle=mintedbackground!30!black, 
fonttitle=\ttfamily\footnotesize,
sharp corners, top=0mm, bottom=0mm,
title code={\path[draw=mintedframe,dashed, fill=mintedbackground](title.south west)--(title.south east);},
frame code={\path[draw=mintedframe, fill=mintedbackground](frame.south west) rectangle (frame.north east);}
}

% SystemVerilog configuration
\setminted[systemverilog]{
    bgcolor=mintedbackground,
    fontfamily=tt,
    linenos=true,
    numberblanklines=true,
    numbersep=12pt,
    numbersep=5pt,
    gobble=0,
    frame=leftline,
    framesep=2mm,
    funcnamehighlighting=true,
    tabsize=4,
    obeytabs=false,
    mathescape=false,
    samepage=false,
    showspaces=false,
    texcl=false,
    baselinestretch=1.2,
    fontsize=\footnotesize,
    breaklines=true,
}
